function trunc(a,b,c){c&&isIterateeCall(a,b,c)&&(b=void 0);var d=DEFAULT_TRUNC_LENGTH,e=DEFAULT_TRUNC_OMISSION;if(null!=b)if(isObject(b)){var f="separator"in b?b.separator:f;d="length"in b?+b.length||0:d,e="omission"in b?baseToString(b.omission):e}else d=+b||0;if(a=baseToString(a),d>=a.length)return a;var g=d-e.length;if(1>g)return e;var h=a.slice(0,g);if(null==f)return h+e;if(isRegExp(f)){if(a.slice(g).search(f)){var i,j,k=a.slice(0,g);for(f.global||(f=RegExp(f.source,(reFlags.exec(f)||"")+"g")),f.lastIndex=0;i=f.exec(k);)j=i.index;h=h.slice(0,null==j?g:j)}}else if(a.indexOf(f,g)!=g){var l=h.lastIndexOf(f);l>-1&&(h=h.slice(0,l))}return h+e}var baseToString=require("../internal/baseToString"),isIterateeCall=require("../internal/isIterateeCall"),isObject=require("../lang/isObject"),isRegExp=require("../lang/isRegExp"),DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",reFlags=/\w*$/;module.exports=trunc;